<!doctype html>
<html>
    <head>
    <title>For Is</title>
    <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <script src="https://cdn.tailwindcss.com"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/js-sha1/0.6.0/sha1.js" integrity="sha512-ZUQ7+HkNWupEjDn/vKkEmGB0Pjr4nrCWzneUGMTLLjBc2mrohsyfRBVU4VWX6bHGE4IaBRjy0q2tuqtDZcgQyw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    </head>
    <body>
        <div class="flex h-screen">
            <img
            src="../images/galaxy.jpg"
            class="absolute h-screen w-screen z-0"
            alt="Galaxy"
            />
            <img
            src="../images/Medieval_Castle_Gate.png"
            class="m-auto z-10"
            alt="Door"
            />
            <div class="z-20">
                <form>
                    <input id="pwi" class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-32 bg-transparent shadow appearance-none border rounded py-2 px-3 text-white mb-3 leading-tight focus:outline-none focus:shadow-outline" type="password" placeholder="">
                    <button class="absolute top-1/2 left-1/2 translate-x-16 translate-y-10 bg-transparent hover:bg-slate-50/50 text-yellow-300 bg-yellow-600 font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline" type="submit" onclick="login(document.getElementById('pwi').value);">
                        Enter
                    </button>
                </form>
            </div>
        </div>
    </body>
</html>

<script>
    function login(secret) {
        console.log("login")
        var hash = sha1(secret)
        // var url = hash + "/index.html"
        var url = hash

        var request = new XMLHttpRequest()
        request.open('GET', url, true)

        request.onload = function () {
            if (request.status >= 200 && request.status < 400) {
                console.log("Nav good")
                window.location = url
            } else {
                console.log("Sorry, wrong password! 1")
                alert("Sorry, wrong password!")
                // parent.location.hash = hash
                // alert[0].style.display = 'block'
                // password[0].setAttribute('placeholder', 'Incorrect password')
                // password[0].value = ''
            }
        }
        request.onerror = function () {
            console.log("Sorry, wrong password! 2")
            alert("Sorry, wrong password!")
            // parent.location.hash = hash
            // alert[0].style.display = 'block'
            // password[0].setAttribute('placeholder', 'Incorrect password')
            // password[0].value = ''
        }
        request.send()
    }

    // var button = document.getElementById("EnterBtn")
    // button.addEventListener("click", function () {
    //     login(password[0].value)
// })
</script>